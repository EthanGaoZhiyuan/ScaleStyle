# src/ray_serve/config.yaml

proxy_location: EveryNode

http_options:
  host: 0.0.0.0
  port: 8000

applications:
  - name: scale_style_app
    import_path: src.ray_serve.deployments.ingress:ingress_app
    route_prefix: /
    runtime_env:
      env_vars:
        RECALL_K: "100"
        RERANKER_ENABLED: "1"
        RERANKER_MODEL: "BAAI/bge-reranker-base"
        RERANKER_DEVICE: "cpu"
        RERANKER_BATCH_SIZE: "16"
        RERANKER_MAX_DOCS: "100"
        RERANKER_MODE: "cross-encoder"
        RERANKER_TIMEOUT_MS: "1200"
        RERANKER_WARMUP: "1"
        RAY_SERVE_RUN_SYNC_IN_THREADPOOL: "1"
        TOKENIZERS_PARALLELISM: "false"
        HF_HOME: "/tmp/hf"